2019-02-18 00:07:13.457 -03:00 [WRN] No type was specified for the decimal column 'ProdutoPrecoUnitario' on entity type 'ItemPedido'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-02-18 00:07:26.107 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:07:26.965 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:01:00"
2019-02-18 00:07:27.043 -03:00 [INF] Starting bus 1
2019-02-18 00:07:27.060 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:07:27.084 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:07:27.104 -03:00 [INF] Started
2019-02-18 00:07:27.113 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:07:27.195 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:07:28.222 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:07:28.228 -03:00 [WRN] Failed to determine the https port for redirect.
2019-02-18 00:07:40.920 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:07:52.785 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:08:04.048 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:08:14.612 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:09:19.470 -03:00 [WRN] No type was specified for the decimal column 'ProdutoPrecoUnitario' on entity type 'ItemPedido'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-02-18 00:09:39.642 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:09:42.092 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:01:00"
2019-02-18 00:09:42.303 -03:00 [INF] Starting bus 1
2019-02-18 00:09:42.548 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:09:42.616 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:09:42.821 -03:00 [INF] Started
2019-02-18 00:09:43.230 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:09:43.607 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:09:46.590 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:09:46.597 -03:00 [WRN] Failed to determine the https port for redirect.
2019-02-18 00:09:58.543 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:10:10.767 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:10:21.286 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:10:32.107 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:10:42.720 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:10:53.350 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:11:04.018 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:11:14.614 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:11:25.368 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:11:35.996 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:20:32.478 -03:00 [WRN] No type was specified for the decimal column 'ProdutoPrecoUnitario' on entity type 'ItemPedido'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-02-18 00:20:44.640 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:20:45.912 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:01:00"
2019-02-18 00:20:45.959 -03:00 [INF] Starting bus 1
2019-02-18 00:20:45.968 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:20:45.976 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:20:45.979 -03:00 [INF] Started
2019-02-18 00:20:45.997 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:20:46.157 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:20:47.905 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:20:47.913 -03:00 [WRN] Failed to determine the https port for redirect.
2019-02-18 00:21:00.139 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:21:11.630 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:21:22.197 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:21:32.987 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:21:43.672 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:21:54.197 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:22:05.180 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:22:15.827 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:22:26.322 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:22:36.930 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:22:47.467 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:22:58.099 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:23:09.397 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:25:04.341 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:25:46.862 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:26:38.067 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:27:27.109 -03:00 [WRN] No type was specified for the decimal column 'ProdutoPrecoUnitario' on entity type 'ItemPedido'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-02-18 00:27:29.118 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:27:29.377 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:01:00"
2019-02-18 00:27:29.396 -03:00 [INF] Starting bus 1
2019-02-18 00:27:29.400 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:27:29.402 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:27:29.406 -03:00 [INF] Started
2019-02-18 00:27:29.408 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:27:29.455 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:27:29.961 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:27:29.966 -03:00 [WRN] Failed to determine the https port for redirect.
2019-02-18 00:27:46.536 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:27:56.963 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:28:45.766 -03:00 [WRN] No type was specified for the decimal column 'ProdutoPrecoUnitario' on entity type 'ItemPedido'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-02-18 00:29:01.612 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:29:02.299 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:01:00"
2019-02-18 00:29:02.379 -03:00 [INF] Starting bus 1
2019-02-18 00:29:02.392 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:29:02.403 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:29:02.427 -03:00 [INF] Started
2019-02-18 00:29:02.462 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:29:02.550 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:29:03.404 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:29:03.414 -03:00 [WRN] Failed to determine the https port for redirect.
2019-02-18 00:29:14.732 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:29:25.328 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:29:36.051 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:29:47.457 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:29:58.318 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:30:08.835 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:30:19.402 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:30:29.817 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:30:40.710 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:30:51.539 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:31:54.419 -03:00 [WRN] No type was specified for the decimal column 'ProdutoPrecoUnitario' on entity type 'ItemPedido'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-02-18 00:31:56.001 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:31:56.346 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:01:00"
2019-02-18 00:31:56.372 -03:00 [INF] Starting bus 1
2019-02-18 00:31:56.376 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:31:56.378 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:31:56.382 -03:00 [INF] Started
2019-02-18 00:31:56.383 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:31:56.436 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:31:56.996 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:31:57.000 -03:00 [WRN] Failed to determine the https port for redirect.
2019-02-18 00:32:07.666 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:32:23.866 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:32:34.190 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:32:44.515 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:32:54.835 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:33:05.157 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:33:15.509 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:33:25.821 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:33:46.470 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:34:08.153 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:34:24.513 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:34:45.684 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:35:07.238 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:35:18.475 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:35:29.063 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:35:39.433 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:35:58.536 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:36:21.715 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:36:42.969 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:37:03.443 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:37:13.863 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:37:32.702 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:37:43.199 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:37:59.295 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:38:09.688 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:38:12.498 -03:00 [INF] Setting number of workers to 0
2019-02-18 00:38:12.503 -03:00 [DBG] Removing worker Rebus 1 worker 1
2019-02-18 00:38:14.683 -03:00 [DBG] Worker Rebus 1 worker 1 stopped
2019-02-18 00:38:14.690 -03:00 [INF] Stopping periodic task CleanupTrackedErrors
2019-02-18 00:38:14.694 -03:00 [INF] Disposing RabbitMQ connection
2019-02-18 00:44:48.825 -03:00 [WRN] No type was specified for the decimal column 'ProdutoPrecoUnitario' on entity type 'ItemPedido'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2019-02-18 00:45:00.874 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:45:02.172 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:01:00"
2019-02-18 00:45:02.399 -03:00 [INF] Starting bus 1
2019-02-18 00:45:02.433 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:45:02.474 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:45:02.516 -03:00 [INF] Started
2019-02-18 00:45:02.528 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:45:02.732 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:45:04.848 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:45:04.857 -03:00 [WRN] Failed to determine the https port for redirect.
2019-02-18 00:45:18.156 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:45:28.613 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:45:39.062 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:45:49.591 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:46:00.251 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:46:10.960 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:46:21.494 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:46:32.137 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:46:42.629 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:46:53.099 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:47:03.704 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:47:14.314 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:47:24.801 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:47:35.390 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:47:45.926 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:47:56.582 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:48:07.301 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:48:17.886 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:48:28.522 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:48:39.141 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:48:49.706 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:49:01.041 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:49:13.622 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:49:24.403 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:49:35.057 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:49:45.699 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:49:56.344 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:50:06.837 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:50:17.405 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:50:28.023 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:50:38.617 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:50:49.071 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:50:59.606 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:51:10.110 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:51:20.992 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:51:31.695 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:51:42.436 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:51:53.852 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2019-02-18 00:51:56.774 -03:00 [INF] Message received:
2019-02-18 00:51:56.775 -03:00 [INF] ----------------------------------
2019-02-18 00:51:56.796 -03:00 [INF] {"UserId":"173f964f-1eb9-43cf-91c7-df753717c16c","UserName":"Alice Smith","PedidoId":0,"Municipio":"São Paulo","Email":"alice@asp.net","Fone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","UF":"SP","Cep":"69118","RequestId":"42f7319f-8473-4da9-9b17-b3ab24239cfe","Items":[{"Id":"025","ProdutoId":"025","ProdutoNome":"turkish strained yogurt","Quantidade":7,"PrecoUnitario":52.9,"Subtotal":0.0,"ImageURL":null},{"Id":"001","ProdutoId":"001","ProdutoNome":"skimmed","Quantidade":6,"PrecoUnitario":52.9,"Subtotal":0.0,"ImageURL":null},{"Id":"002","ProdutoId":"002","ProdutoNome":"strawberry frozen yogurt","Quantidade":2,"PrecoUnitario":52.9,"Subtotal":0.0,"ImageURL":null}],"Id":"9a13ce1b-6cb4-4253-a065-64c54ccfe74f","CreationDate":"2019-02-18T03:51:56.6065483Z"}
2019-02-18 00:51:56.796 -03:00 [INF] ----------------------------------
2019-02-18 00:51:57.146 -03:00 [INF] new CreatePedidoCommandHandler created.
2019-02-18 00:51:58.691 -03:00 [DBG] Dispatching CasaDoCodigo.Mensagens.Events.CheckoutEvent, CasaDoCodigo.Mensagens c4cb5c5e-a7ad-4666-a727-38c567a6bbf2 to 1 handlers took 1934.7522000000001 ms
2019-02-18 00:51:58.720 -03:00 [ERR] Failed executing DbCommand (53ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Pedido] ([ClienteBairro], [ClienteCEP], [ClienteComplemento], [ClienteEmail], [ClienteEndereco], [ClienteMunicipio], [ClienteNome], [ClienteTelefone], [ClienteUF], [CustomerId], [DateCreated])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT [Id]
FROM [Pedido]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CustomerId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:9519d225-9310-4131-8eda-0c33236f2627
Error Number:207,State:1,Class:16
2019-02-18 00:51:58.872 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'CasaDoCodigo.Ordering.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'CustomerId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'CustomerId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-02-18 00:51:59.307 -03:00 [ERR] An error occurred while updating the entries. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Invalid column name 'CustomerId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CasaDoCodigo.Ordering.Repositories.PedidoRepository.CreateOrUpdate(Pedido pedido) in C:\Users\marce\Documents\GitHub\aspnetcore-microservices\OrdemDeCompra.API\Repositories\PedidoRepository.cs:line 56
   at CasaDoCodigo.Ordering.Commands.CreatePedidoCommandHandler.Handle(IdentifiedCommand`2 request, CancellationToken cancellationToken) in C:\Users\marce\Documents\GitHub\aspnetcore-microservices\OrdemDeCompra.API\Commands\CreatePedidoCommandHandler.cs:line 118
2019-02-18 00:52:04.441 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
