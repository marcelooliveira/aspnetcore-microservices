2019-02-18 00:07:02.725 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:07:04.154 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:07:04.242 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:07:04.329 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:07:04.420 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:07:04.440 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:07:04.591 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:07:04.702 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:07:04.737 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:07:57.638 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:07:57.671 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:07:57.672 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:07:57.700 -03:00 [DBG] Start token request.
2019-02-18 00:07:57.722 -03:00 [DBG] Start client validation
2019-02-18 00:07:57.778 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:07:57.779 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:07:57.779 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:07:57.794 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:07:57.815 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:07:57.815 -03:00 [DBG] Client validation success
2019-02-18 00:07:57.844 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9OKTVSSE:00000005",
  "TimeStamp": "2019-02-18T03:07:57Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:07:57.889 -03:00 [DBG] Start token request validation
2019-02-18 00:07:57.906 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:07:58.033 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:07:58.053 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:07:58.108 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:07:58.306 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****5xGg"
    }
  ],
  "ActivityId": "0HLKL9OKTVSSE:00000005",
  "TimeStamp": "2019-02-18T03:07:58Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:07:58.310 -03:00 [DBG] Token request success.
2019-02-18 00:07:58.680 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:07:58.690 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:07:58.691 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:07:58.699 -03:00 [DBG] Start discovery request
2019-02-18 00:07:58.918 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:07:58.920 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:07:58.920 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:07:58.930 -03:00 [DBG] Start key discovery request
2019-02-18 00:08:04.462 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:08:04.465 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:08:04.465 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:08:04.465 -03:00 [DBG] Start token request.
2019-02-18 00:08:04.465 -03:00 [DBG] Start client validation
2019-02-18 00:08:04.466 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:08:04.466 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:08:04.466 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:08:04.466 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:08:04.466 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:08:04.466 -03:00 [DBG] Client validation success
2019-02-18 00:08:04.466 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9OKTVSSE:00000009",
  "TimeStamp": "2019-02-18T03:08:04Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:08:04.470 -03:00 [DBG] Start token request validation
2019-02-18 00:08:04.470 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:08:04.470 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:08:04.471 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:08:04.471 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:08:04.480 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****NyzA"
    }
  ],
  "ActivityId": "0HLKL9OKTVSSE:00000009",
  "TimeStamp": "2019-02-18T03:08:04Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:08:04.480 -03:00 [DBG] Token request success.
2019-02-18 00:09:18.935 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:09:23.066 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:09:23.361 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:09:23.455 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:09:23.560 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:09:23.631 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:09:23.914 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:09:24.248 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:09:24.295 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:09:24.295 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:09:24.296 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:09:24.296 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:09:24.296 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:10:28.845 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:10:28.877 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:10:28.878 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:10:28.900 -03:00 [DBG] Start token request.
2019-02-18 00:10:28.925 -03:00 [DBG] Start client validation
2019-02-18 00:10:28.942 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:10:28.944 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:10:28.944 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:10:28.968 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:10:29.009 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:10:29.009 -03:00 [DBG] Client validation success
2019-02-18 00:10:29.042 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9PUMF3M2:00000006",
  "TimeStamp": "2019-02-18T03:10:29Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:29.125 -03:00 [DBG] Start token request validation
2019-02-18 00:10:29.153 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:10:29.251 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:10:29.271 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:10:29.337 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:10:29.555 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****Vrhw"
    }
  ],
  "ActivityId": "0HLKL9PUMF3M2:00000006",
  "TimeStamp": "2019-02-18T03:10:29Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:29.557 -03:00 [DBG] Token request success.
2019-02-18 00:10:30.051 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:10:30.055 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:10:30.055 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:10:30.066 -03:00 [DBG] Start discovery request
2019-02-18 00:10:30.233 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:10:30.234 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:10:30.234 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:10:30.241 -03:00 [DBG] Start key discovery request
2019-02-18 00:10:37.560 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:10:37.562 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:10:37.562 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:10:37.562 -03:00 [DBG] Start token request.
2019-02-18 00:10:37.562 -03:00 [DBG] Start client validation
2019-02-18 00:10:37.562 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:10:37.562 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:10:37.562 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:10:37.563 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:10:37.563 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:10:37.563 -03:00 [DBG] Client validation success
2019-02-18 00:10:37.563 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9PUMF3M2:0000000A",
  "TimeStamp": "2019-02-18T03:10:37Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:37.568 -03:00 [DBG] Start token request validation
2019-02-18 00:10:37.568 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:10:37.569 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:10:37.569 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:10:37.569 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:10:37.577 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****1gkg"
    }
  ],
  "ActivityId": "0HLKL9PUMF3M2:0000000A",
  "TimeStamp": "2019-02-18T03:10:37Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:37.578 -03:00 [DBG] Token request success.
2019-02-18 00:20:30.436 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:20:31.795 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:20:31.873 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:20:31.900 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:20:31.954 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:20:32.049 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:20:32.136 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:20:32.203 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:20:32.225 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:21:25.583 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:21:25.607 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:21:25.607 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:21:25.621 -03:00 [DBG] Start token request.
2019-02-18 00:21:25.632 -03:00 [DBG] Start client validation
2019-02-18 00:21:25.641 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:21:25.642 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:21:25.642 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:21:25.656 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:21:25.679 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:21:25.679 -03:00 [DBG] Client validation success
2019-02-18 00:21:25.705 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOK:00000006",
  "TimeStamp": "2019-02-18T03:21:25Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:25.759 -03:00 [DBG] Start token request validation
2019-02-18 00:21:25.780 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:21:25.839 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:21:25.856 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:21:25.890 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:21:26.032 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****DOBg"
    }
  ],
  "ActivityId": "0HLKLA05IOVOK:00000006",
  "TimeStamp": "2019-02-18T03:21:26Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:26.036 -03:00 [DBG] Token request success.
2019-02-18 00:21:26.347 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:21:26.349 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:21:26.349 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:21:26.358 -03:00 [DBG] Start discovery request
2019-02-18 00:21:26.507 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:21:26.508 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:21:26.508 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:21:26.515 -03:00 [DBG] Start key discovery request
2019-02-18 00:21:37.550 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:21:37.552 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:21:37.552 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:21:37.552 -03:00 [DBG] Start token request.
2019-02-18 00:21:37.552 -03:00 [DBG] Start client validation
2019-02-18 00:21:37.552 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:21:37.552 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:21:37.552 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:21:37.552 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:21:37.553 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:21:37.553 -03:00 [DBG] Client validation success
2019-02-18 00:21:37.553 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOK:0000000A",
  "TimeStamp": "2019-02-18T03:21:37Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:37.558 -03:00 [DBG] Start token request validation
2019-02-18 00:21:37.558 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:21:37.558 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:21:37.559 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:21:37.559 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:21:37.566 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****a3qA"
    }
  ],
  "ActivityId": "0HLKLA05IOVOK:0000000A",
  "TimeStamp": "2019-02-18T03:21:37Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:37.567 -03:00 [DBG] Token request success.
2019-02-18 00:25:00.478 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:25:00.479 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:25:00.479 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:25:00.479 -03:00 [DBG] Start token request.
2019-02-18 00:25:00.479 -03:00 [DBG] Start client validation
2019-02-18 00:25:00.479 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:25:00.479 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:25:00.479 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:25:00.480 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:25:00.480 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:25:00.480 -03:00 [DBG] Client validation success
2019-02-18 00:25:00.480 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOL:00000001",
  "TimeStamp": "2019-02-18T03:25:00Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:25:00.481 -03:00 [DBG] Start token request validation
2019-02-18 00:25:00.481 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:25:00.481 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:25:00.481 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:25:00.481 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:25:00.488 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****gNVQ"
    }
  ],
  "ActivityId": "0HLKLA05IOVOL:00000001",
  "TimeStamp": "2019-02-18T03:25:00Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:25:00.488 -03:00 [DBG] Token request success.
2019-02-18 00:26:35.156 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:26:35.157 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:26:35.157 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:26:35.157 -03:00 [DBG] Start token request.
2019-02-18 00:26:35.157 -03:00 [DBG] Start client validation
2019-02-18 00:26:35.157 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:26:35.157 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:26:35.157 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:26:35.157 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:26:35.157 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:26:35.158 -03:00 [DBG] Client validation success
2019-02-18 00:26:35.158 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOL:00000004",
  "TimeStamp": "2019-02-18T03:26:35Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:35.166 -03:00 [DBG] Start token request validation
2019-02-18 00:26:35.166 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:26:35.166 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:26:35.167 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:26:35.167 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:26:35.196 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****akSA"
    }
  ],
  "ActivityId": "0HLKLA05IOVOL:00000004",
  "TimeStamp": "2019-02-18T03:26:35Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:35.196 -03:00 [DBG] Token request success.
2019-02-18 00:26:43.533 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:26:43.534 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:26:43.534 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:26:43.534 -03:00 [DBG] Start token request.
2019-02-18 00:26:43.534 -03:00 [DBG] Start client validation
2019-02-18 00:26:43.534 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:26:43.534 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:26:43.534 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:26:43.534 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:26:43.534 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:26:43.535 -03:00 [DBG] Client validation success
2019-02-18 00:26:43.535 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOL:00000006",
  "TimeStamp": "2019-02-18T03:26:43Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:43.541 -03:00 [DBG] Start token request validation
2019-02-18 00:26:43.541 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:26:43.542 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:26:43.542 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:26:43.542 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:26:43.548 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****G7BA"
    }
  ],
  "ActivityId": "0HLKLA05IOVOL:00000006",
  "TimeStamp": "2019-02-18T03:26:43Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:43.548 -03:00 [DBG] Token request success.
2019-02-18 00:27:24.405 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:27:24.771 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:27:24.802 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:27:24.804 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:27:24.822 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:27:24.823 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:27:24.866 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:27:24.880 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:27:24.899 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:28:46.008 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:28:48.593 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:28:48.690 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:28:48.732 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:28:48.892 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:28:48.927 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:28:49.230 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:28:49.529 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:28:49.572 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:30:48.908 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:30:48.942 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:30:48.943 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:30:48.971 -03:00 [DBG] Start token request.
2019-02-18 00:30:48.994 -03:00 [DBG] Start client validation
2019-02-18 00:30:49.005 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:30:49.006 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:30:49.006 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:30:49.023 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:30:49.043 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:30:49.043 -03:00 [DBG] Client validation success
2019-02-18 00:30:49.073 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA4PRIER4:0000000C",
  "TimeStamp": "2019-02-18T03:30:49Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:49.132 -03:00 [DBG] Start token request validation
2019-02-18 00:30:49.149 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:30:49.230 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:30:49.244 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:30:49.302 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:30:49.457 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****TTJA"
    }
  ],
  "ActivityId": "0HLKLA4PRIER4:0000000C",
  "TimeStamp": "2019-02-18T03:30:49Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:49.460 -03:00 [DBG] Token request success.
2019-02-18 00:30:49.837 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:30:49.839 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:30:49.839 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:30:49.865 -03:00 [DBG] Start discovery request
2019-02-18 00:30:50.083 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:30:50.084 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:30:50.084 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:30:50.090 -03:00 [DBG] Start key discovery request
2019-02-18 00:30:59.832 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:30:59.834 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:30:59.834 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:30:59.834 -03:00 [DBG] Start token request.
2019-02-18 00:30:59.834 -03:00 [DBG] Start client validation
2019-02-18 00:30:59.834 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:30:59.834 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:30:59.835 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:30:59.835 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:30:59.835 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:30:59.835 -03:00 [DBG] Client validation success
2019-02-18 00:30:59.835 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA4PRIER4:00000010",
  "TimeStamp": "2019-02-18T03:30:59Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:59.837 -03:00 [DBG] Start token request validation
2019-02-18 00:30:59.837 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:30:59.837 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:30:59.837 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:30:59.837 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:30:59.843 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****jr9A"
    }
  ],
  "ActivityId": "0HLKLA4PRIER4:00000010",
  "TimeStamp": "2019-02-18T03:30:59Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:59.844 -03:00 [DBG] Token request success.
2019-02-18 00:31:52.003 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:31:52.405 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:31:52.432 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:31:52.434 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:31:52.437 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:31:52.439 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:31:52.485 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:31:52.507 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:38:12.518 -03:00 [INF] Setting number of workers to 0
2019-02-18 00:38:12.525 -03:00 [DBG] Removing worker Rebus 1 worker 1
2019-02-18 00:38:13.034 -03:00 [DBG] Worker Rebus 1 worker 1 stopped
2019-02-18 00:38:13.043 -03:00 [INF] Stopping periodic task CleanupTrackedErrors
2019-02-18 00:38:13.047 -03:00 [INF] Disposing RabbitMQ connection
2019-02-18 00:38:13.050 -03:00 [INF] Bus Rebus 1 stopped
2019-02-18 00:45:02.731 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:45:03.302 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:45:03.353 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:45:03.355 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:45:03.367 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:45:03.370 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:45:03.509 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:45:03.572 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:45:03.593 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:45:03.593 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:45:03.600 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:45:03.600 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:45:03.600 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:45:20.624 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:45:20.647 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:45:20.648 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:45:20.671 -03:00 [DBG] Start token request.
2019-02-18 00:45:20.683 -03:00 [DBG] Start client validation
2019-02-18 00:45:20.697 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:45:20.697 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:45:20.697 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:45:20.712 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:45:20.728 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:45:20.728 -03:00 [DBG] Client validation success
2019-02-18 00:45:20.760 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLADRRJKJ2:00000003",
  "TimeStamp": "2019-02-18T03:45:20Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:45:20.812 -03:00 [DBG] Start token request validation
2019-02-18 00:45:20.825 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:45:20.871 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:45:20.880 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:45:20.912 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:45:20.993 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****vkXQ"
    }
  ],
  "ActivityId": "0HLKLADRRJKJ2:00000003",
  "TimeStamp": "2019-02-18T03:45:20Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:45:20.996 -03:00 [DBG] Token request success.
2019-02-18 00:45:21.328 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:45:21.330 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:45:21.330 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:45:21.340 -03:00 [DBG] Start discovery request
2019-02-18 00:45:21.505 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:45:21.506 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:45:21.507 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:45:21.514 -03:00 [DBG] Start key discovery request
2019-02-18 00:51:55.899 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:51:55.901 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:51:55.901 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:51:55.901 -03:00 [DBG] Start token request.
2019-02-18 00:51:55.901 -03:00 [DBG] Start client validation
2019-02-18 00:51:55.902 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:51:55.903 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:51:55.903 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:51:55.903 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:51:55.904 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:51:55.904 -03:00 [DBG] Client validation success
2019-02-18 00:51:55.904 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLADRRJKJ2:0000002B",
  "TimeStamp": "2019-02-18T03:51:55Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:51:55.905 -03:00 [DBG] Start token request validation
2019-02-18 00:51:55.905 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:51:55.906 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:51:55.906 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:51:55.906 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:51:55.912 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****iLBA"
    }
  ],
  "ActivityId": "0HLKLADRRJKJ2:0000002B",
  "TimeStamp": "2019-02-18T03:51:55Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:51:55.912 -03:00 [DBG] Token request success.
2019-02-18 00:51:56.724 -03:00 [INF] Message received:
2019-02-18 00:51:56.724 -03:00 [INF] ----------------------------------
2019-02-18 00:51:56.732 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"d47895d7-3b39-4e29-8a1d-4875b8c94ebf","CreationDate":"2019-02-18T03:51:56.5990179Z"}
2019-02-18 00:51:56.732 -03:00 [INF] ----------------------------------
2019-02-18 00:51:57.617 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages 5c2b32b7-e007-4019-a9d9-860a6f96ac36 to 1 handlers took 905 ms
2019-02-18 01:08:11.108 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 01:08:12.613 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 01:08:12.661 -03:00 [INF] Setting number of workers to 1
2019-02-18 01:08:12.695 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 01:08:12.791 -03:00 [INF] Bus Rebus 1 started
2019-02-18 01:08:12.889 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 01:08:13.016 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 01:08:13.156 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 01:08:13.189 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 01:08:13.190 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 01:08:13.190 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 01:08:13.191 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 01:08:13.191 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 01:08:43.899 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 01:08:43.931 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 01:08:43.932 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 01:08:43.961 -03:00 [DBG] Start token request.
2019-02-18 01:08:43.980 -03:00 [DBG] Start client validation
2019-02-18 01:08:43.999 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 01:08:44.002 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 01:08:44.002 -03:00 [DBG] Secret id found: MVC
2019-02-18 01:08:44.016 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 01:08:44.031 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 01:08:44.031 -03:00 [DBG] Client validation success
2019-02-18 01:08:44.062 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLAQQ82N97:00000004",
  "TimeStamp": "2019-02-18T04:08:44Z",
  "ProcessId": 10620,
  "LocalIpAddress": "127.0.0.1:4467",
  "RemoteIpAddress": "::1"
}
2019-02-18 01:08:44.173 -03:00 [DBG] Start token request validation
2019-02-18 01:08:44.210 -03:00 [DBG] Start client credentials token request validation
2019-02-18 01:08:44.278 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 01:08:44.294 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 01:08:44.357 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 01:08:44.504 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****RlOA"
    }
  ],
  "ActivityId": "0HLKLAQQ82N97:00000004",
  "TimeStamp": "2019-02-18T04:08:44Z",
  "ProcessId": 10620,
  "LocalIpAddress": "127.0.0.1:4467",
  "RemoteIpAddress": "::1"
}
2019-02-18 01:08:44.508 -03:00 [DBG] Token request success.
2019-02-18 01:08:44.860 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 01:08:44.863 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 01:08:44.863 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 01:08:44.879 -03:00 [DBG] Start discovery request
2019-02-18 01:08:45.057 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 01:08:45.058 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 01:08:45.058 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 01:08:45.065 -03:00 [DBG] Start key discovery request
2019-02-18 01:09:01.154 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 01:09:01.155 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 01:09:01.156 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 01:09:01.156 -03:00 [DBG] Start token request.
2019-02-18 01:09:01.156 -03:00 [DBG] Start client validation
2019-02-18 01:09:01.156 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 01:09:01.156 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 01:09:01.157 -03:00 [DBG] Secret id found: MVC
2019-02-18 01:09:01.157 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 01:09:01.158 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 01:09:01.158 -03:00 [DBG] Client validation success
2019-02-18 01:09:01.158 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLAQQ82N97:00000009",
  "TimeStamp": "2019-02-18T04:09:01Z",
  "ProcessId": 10620,
  "LocalIpAddress": "127.0.0.1:4467",
  "RemoteIpAddress": "::1"
}
2019-02-18 01:09:01.159 -03:00 [DBG] Start token request validation
2019-02-18 01:09:01.160 -03:00 [DBG] Start client credentials token request validation
2019-02-18 01:09:01.160 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 01:09:01.160 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 01:09:01.160 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 01:09:01.166 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****tP5w"
    }
  ],
  "ActivityId": "0HLKLAQQ82N97:00000009",
  "TimeStamp": "2019-02-18T04:09:01Z",
  "ProcessId": 10620,
  "LocalIpAddress": "127.0.0.1:4467",
  "RemoteIpAddress": "::1"
}
2019-02-18 01:09:01.166 -03:00 [DBG] Token request success.
2019-02-18 01:09:02.101 -03:00 [WRN] Unhandled exception [1,"c80e0096-1a5e-4cf5-b0f6-00b4d021f217"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID c80e0096-1a5e-4cf5-b0f6-00b4d021f217 and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-18 01:09:02.165 -03:00 [INF] Message received:
2019-02-18 01:09:02.165 -03:00 [INF] ----------------------------------
2019-02-18 01:09:02.181 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"bc897331-e407-4b49-8666-272a27b11fdc","CreationDate":"2019-02-18T04:09:02.1354344Z"}
2019-02-18 01:09:02.181 -03:00 [INF] ----------------------------------
2019-02-18 01:09:03.251 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages de48419f-fdba-4abd-ae1b-9c51bba80b65 to 1 handlers took 1095 ms
2019-02-18 22:02:43.536 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 22:02:44.307 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 22:02:44.361 -03:00 [INF] Setting number of workers to 1
2019-02-18 22:02:44.370 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 22:02:44.393 -03:00 [INF] Bus Rebus 1 started
2019-02-18 22:02:44.400 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 22:02:44.512 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 22:02:44.543 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 22:02:44.570 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 22:02:44.570 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 22:02:44.570 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 22:02:44.571 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 22:02:44.571 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 22:04:17.162 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 22:04:17.494 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 22:04:17.542 -03:00 [INF] Setting number of workers to 1
2019-02-18 22:04:17.545 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 22:04:17.549 -03:00 [INF] Bus Rebus 1 started
2019-02-18 22:04:17.551 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 22:04:17.601 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 22:04:17.623 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 22:04:17.647 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 22:04:17.648 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 22:04:17.648 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 22:04:17.648 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 22:04:17.648 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 22:08:01.442 -03:00 [INF] Setting number of workers to 0
2019-02-18 22:08:01.446 -03:00 [DBG] Removing worker Rebus 1 worker 1
2019-02-18 22:08:01.864 -03:00 [DBG] Worker Rebus 1 worker 1 stopped
2019-02-18 22:08:01.870 -03:00 [INF] Stopping periodic task CleanupTrackedErrors
2019-02-18 22:08:01.875 -03:00 [INF] Disposing RabbitMQ connection
2019-02-18 22:08:01.879 -03:00 [INF] Bus Rebus 1 stopped
2019-02-18 22:10:22.428 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 22:10:23.763 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 22:10:23.831 -03:00 [INF] Setting number of workers to 1
2019-02-18 22:10:23.834 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 22:10:23.861 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 22:10:23.891 -03:00 [INF] Bus Rebus 1 started
2019-02-18 22:10:23.982 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 22:10:24.015 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 22:10:24.068 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 22:10:24.069 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 22:10:24.069 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 22:10:24.069 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 22:10:24.069 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 22:20:32.016 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 22:20:32.876 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 22:20:32.926 -03:00 [INF] Setting number of workers to 1
2019-02-18 22:20:32.930 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 22:20:32.969 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 22:20:32.988 -03:00 [INF] Bus Rebus 1 started
2019-02-18 22:20:33.076 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 22:20:33.092 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 22:20:33.138 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 22:20:33.138 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 22:20:33.138 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 22:20:33.139 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 22:20:33.139 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 22:34:44.583 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 22:34:45.276 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 22:34:45.349 -03:00 [INF] Setting number of workers to 1
2019-02-18 22:34:45.351 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 22:34:45.428 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 22:34:45.476 -03:00 [INF] Bus Rebus 1 started
2019-02-18 22:34:45.593 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 22:34:45.663 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 22:34:45.682 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 22:34:45.682 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 22:34:45.682 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 22:34:45.682 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 22:34:45.682 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 23:44:41.478 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 23:44:43.225 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 23:44:43.423 -03:00 [INF] Setting number of workers to 1
2019-02-18 23:44:43.454 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 23:44:43.525 -03:00 [INF] Bus Rebus 1 started
2019-02-18 23:44:43.636 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 23:44:43.809 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 23:44:43.955 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 23:44:44.097 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 23:44:44.097 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 23:44:44.097 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 23:44:44.097 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 23:44:44.098 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-19 23:21:53.610 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-19 23:21:56.007 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-19 23:21:56.128 -03:00 [INF] Setting number of workers to 1
2019-02-19 23:21:56.187 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-19 23:21:56.298 -03:00 [INF] Bus Rebus 1 started
2019-02-19 23:21:56.342 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-19 23:21:56.458 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-19 23:21:56.592 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-19 23:21:56.686 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-19 23:21:56.687 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-19 23:21:56.687 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-19 23:21:56.687 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-19 23:21:56.688 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-19 23:43:53.304 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-19 23:43:55.271 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-19 23:43:55.466 -03:00 [INF] Setting number of workers to 1
2019-02-19 23:43:55.527 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-19 23:43:55.616 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-19 23:43:55.619 -03:00 [INF] Bus Rebus 1 started
2019-02-19 23:43:55.749 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-19 23:43:55.845 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-19 23:43:55.984 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-19 23:43:55.985 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-19 23:43:55.985 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-19 23:43:55.985 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-19 23:43:55.985 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-19 23:57:42.851 -03:00 [WRN] An error occurred when attempting to receive the next message: Rebus.Exceptions.RebusApplicationException: Queue throw EndOfStreamException(meaning it was canceled by rabbitmq) ---> System.IO.EndOfStreamException: SharedQueue closed
   at RabbitMQ.Util.SharedQueue`1.EnsureIsOpen()
   at RabbitMQ.Util.SharedQueue`1.Dequeue(Int32 millisecondsTimeout, T& result)
   at Rebus.RabbitMq.RabbitMqTransport.Receive(ITransactionContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Rebus.RabbitMq.RabbitMqTransport.Receive(ITransactionContext context, CancellationToken cancellationToken)
   at Rebus.Workers.ThreadPoolBased.ThreadPoolWorker.ReceiveTransportMessage(CancellationToken token, ITransactionContext context) in C:\projects-rebus\Rebus\Rebus\Workers\ThreadPoolBased\ThreadPoolWorker.cs:line 136
2019-02-19 23:57:42.929 -03:00 [INF] Existing connection found to be CLOSED
2019-02-19 23:57:43.118 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-19 23:59:52.399 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-19 23:59:54.214 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-19 23:59:54.282 -03:00 [INF] Setting number of workers to 1
2019-02-19 23:59:54.313 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-19 23:59:54.433 -03:00 [INF] Bus Rebus 1 started
2019-02-19 23:59:54.451 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-19 23:59:54.558 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-19 23:59:54.707 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-19 23:59:54.750 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-19 23:59:54.750 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-19 23:59:54.751 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-19 23:59:54.751 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-19 23:59:54.751 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 00:01:57.443 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 00:01:59.205 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 00:01:59.272 -03:00 [INF] Setting number of workers to 1
2019-02-20 00:01:59.307 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 00:01:59.342 -03:00 [INF] Bus Rebus 1 started
2019-02-20 00:01:59.359 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 00:01:59.439 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 00:01:59.531 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 00:01:59.560 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 00:01:59.560 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 00:01:59.560 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 00:01:59.560 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 00:01:59.561 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 00:07:58.774 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 00:08:00.020 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 00:08:00.100 -03:00 [INF] Setting number of workers to 1
2019-02-20 00:08:00.115 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 00:08:00.183 -03:00 [INF] Bus Rebus 1 started
2019-02-20 00:08:00.239 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 00:08:00.315 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 00:08:00.476 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 00:08:00.505 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 00:08:00.505 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 00:08:00.505 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 00:08:00.505 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 00:08:00.506 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 00:20:54.809 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 00:20:56.831 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 00:20:57.002 -03:00 [INF] Setting number of workers to 1
2019-02-20 00:20:57.059 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 00:20:57.259 -03:00 [INF] Bus Rebus 1 started
2019-02-20 00:20:57.259 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 00:20:57.387 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 00:20:57.552 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 00:20:57.578 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 00:20:57.578 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 00:20:57.578 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 00:20:57.578 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 00:20:57.578 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 00:21:46.477 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 00:21:46.747 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 00:21:46.763 -03:00 [INF] Setting number of workers to 1
2019-02-20 00:21:46.765 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 00:21:46.767 -03:00 [INF] Bus Rebus 1 started
2019-02-20 00:21:46.769 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 00:21:46.804 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 00:21:46.823 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 00:21:46.836 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 00:21:46.836 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 00:21:46.836 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 00:21:46.836 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 00:21:46.836 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 00:28:32.391 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 00:28:35.107 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 00:28:35.227 -03:00 [INF] Setting number of workers to 1
2019-02-20 00:28:35.261 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 00:28:35.571 -03:00 [INF] Bus Rebus 1 started
2019-02-20 00:28:35.605 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 00:28:35.825 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 00:28:35.930 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 00:28:35.968 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 00:28:35.969 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 00:28:35.969 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 00:28:35.969 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 00:28:35.969 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 00:29:47.404 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 00:29:47.811 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 00:29:47.854 -03:00 [INF] Setting number of workers to 1
2019-02-20 00:29:47.857 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 00:29:47.863 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 00:29:47.868 -03:00 [INF] Bus Rebus 1 started
2019-02-20 00:29:47.930 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 00:29:47.949 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 00:29:47.967 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 00:29:47.967 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 00:29:47.967 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 00:29:47.967 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 00:29:47.967 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 00:51:07.257 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 00:51:12.127 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 00:51:12.189 -03:00 [INF] Setting number of workers to 1
2019-02-20 00:51:12.233 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 00:51:12.311 -03:00 [INF] Bus Rebus 1 started
2019-02-20 00:51:12.325 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 00:51:12.409 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 00:51:12.579 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 00:51:12.608 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 00:51:12.608 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 00:51:12.609 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 00:51:12.609 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 00:51:12.609 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 01:00:58.566 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 01:00:58.932 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 01:00:58.953 -03:00 [INF] Setting number of workers to 1
2019-02-20 01:00:58.954 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 01:00:58.958 -03:00 [INF] Bus Rebus 1 started
2019-02-20 01:00:58.959 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 01:00:58.998 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 01:00:59.014 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 01:00:59.026 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 01:00:59.026 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 01:00:59.026 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 01:00:59.026 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 01:00:59.026 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 01:02:33.712 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 01:02:38.431 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 01:02:38.728 -03:00 [INF] Setting number of workers to 1
2019-02-20 01:02:38.885 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 01:02:39.227 -03:00 [INF] Bus Rebus 1 started
2019-02-20 01:02:39.612 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 01:02:39.879 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 01:02:39.993 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 01:02:40.016 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 01:02:40.016 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 01:02:40.016 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 01:02:40.016 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 01:02:40.016 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 01:11:00.874 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 01:11:02.862 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 01:11:03.011 -03:00 [INF] Setting number of workers to 1
2019-02-20 01:11:03.096 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 01:11:03.247 -03:00 [INF] Bus Rebus 1 started
2019-02-20 01:11:03.267 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 01:11:03.380 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 01:11:03.513 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 01:11:03.549 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 01:11:03.549 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 01:11:03.549 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 01:11:03.550 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 01:11:03.550 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 01:14:33.553 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:14:33.588 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:14:33.588 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:14:33.607 -03:00 [DBG] Start token request.
2019-02-20 01:14:33.622 -03:00 [DBG] Start client validation
2019-02-20 01:14:33.636 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:14:33.637 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:14:33.637 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:14:33.668 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:14:33.700 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:14:33.700 -03:00 [DBG] Client validation success
2019-02-20 01:14:33.739 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:00000012",
  "TimeStamp": "2019-02-20T04:14:33Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:33.800 -03:00 [DBG] Start token request validation
2019-02-20 01:14:33.819 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:14:33.937 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:14:33.958 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:14:34.026 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:14:34.289 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****SK_Q"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:00000012",
  "TimeStamp": "2019-02-20T04:14:34Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:34.293 -03:00 [DBG] Token request success.
2019-02-20 01:14:34.691 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-20 01:14:34.693 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-20 01:14:34.693 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-20 01:14:34.729 -03:00 [DBG] Start discovery request
2019-02-20 01:14:34.951 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-20 01:14:34.952 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-20 01:14:34.952 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-20 01:14:34.960 -03:00 [DBG] Start key discovery request
2019-02-20 01:14:40.130 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:14:40.131 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:14:40.131 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:14:40.139 -03:00 [DBG] Start token request.
2019-02-20 01:14:40.139 -03:00 [DBG] Start client validation
2019-02-20 01:14:40.139 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:14:40.139 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:14:40.139 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:14:40.139 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:14:40.140 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:14:40.140 -03:00 [DBG] Client validation success
2019-02-20 01:14:40.141 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:00000016",
  "TimeStamp": "2019-02-20T04:14:40Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:40.144 -03:00 [DBG] Start token request validation
2019-02-20 01:14:40.144 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:14:40.144 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:14:40.145 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:14:40.145 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:14:40.150 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****sOAA"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:00000016",
  "TimeStamp": "2019-02-20T04:14:40Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:40.151 -03:00 [DBG] Token request success.
2019-02-20 01:14:45.918 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:14:45.919 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:14:45.919 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:14:45.919 -03:00 [DBG] Start token request.
2019-02-20 01:14:45.919 -03:00 [DBG] Start client validation
2019-02-20 01:14:45.919 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:14:45.919 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:14:45.919 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:14:45.919 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:14:45.919 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:14:45.919 -03:00 [DBG] Client validation success
2019-02-20 01:14:45.920 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:00000017",
  "TimeStamp": "2019-02-20T04:14:45Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:45.926 -03:00 [DBG] Start token request validation
2019-02-20 01:14:45.927 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:14:45.927 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:14:45.927 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:14:45.927 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:14:45.933 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****wEeA"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:00000017",
  "TimeStamp": "2019-02-20T04:14:45Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:45.933 -03:00 [DBG] Token request success.
2019-02-20 01:14:48.159 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:14:48.160 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:14:48.160 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:14:48.160 -03:00 [DBG] Start token request.
2019-02-20 01:14:48.160 -03:00 [DBG] Start client validation
2019-02-20 01:14:48.160 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:14:48.160 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:14:48.160 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:14:48.160 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:14:48.160 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:14:48.160 -03:00 [DBG] Client validation success
2019-02-20 01:14:48.161 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:00000019",
  "TimeStamp": "2019-02-20T04:14:48Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:48.168 -03:00 [DBG] Start token request validation
2019-02-20 01:14:48.168 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:14:48.169 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:14:48.170 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:14:48.170 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:14:48.175 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****pGXQ"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:00000019",
  "TimeStamp": "2019-02-20T04:14:48Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:48.175 -03:00 [DBG] Token request success.
2019-02-20 01:14:48.731 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:14:48.732 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:14:48.732 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:14:48.732 -03:00 [DBG] Start token request.
2019-02-20 01:14:48.732 -03:00 [DBG] Start client validation
2019-02-20 01:14:48.732 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:14:48.732 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:14:48.732 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:14:48.732 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:14:48.732 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:14:48.732 -03:00 [DBG] Client validation success
2019-02-20 01:14:48.733 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:0000001A",
  "TimeStamp": "2019-02-20T04:14:48Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:48.733 -03:00 [DBG] Start token request validation
2019-02-20 01:14:48.733 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:14:48.733 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:14:48.733 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:14:48.733 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:14:48.738 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****pGXQ"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:0000001A",
  "TimeStamp": "2019-02-20T04:14:48Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:48.739 -03:00 [DBG] Token request success.
2019-02-20 01:14:49.281 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:14:49.282 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:14:49.282 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:14:49.282 -03:00 [DBG] Start token request.
2019-02-20 01:14:49.282 -03:00 [DBG] Start client validation
2019-02-20 01:14:49.282 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:14:49.282 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:14:49.282 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:14:49.282 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:14:49.282 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:14:49.283 -03:00 [DBG] Client validation success
2019-02-20 01:14:49.283 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:0000001B",
  "TimeStamp": "2019-02-20T04:14:49Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:49.284 -03:00 [DBG] Start token request validation
2019-02-20 01:14:49.284 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:14:49.284 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:14:49.284 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:14:49.284 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:14:49.290 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****ltfw"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:0000001B",
  "TimeStamp": "2019-02-20T04:14:49Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:14:49.291 -03:00 [DBG] Token request success.
2019-02-20 01:15:01.582 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:15:01.583 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:15:01.583 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:15:01.584 -03:00 [DBG] Start token request.
2019-02-20 01:15:01.584 -03:00 [DBG] Start client validation
2019-02-20 01:15:01.584 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:15:01.584 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:15:01.584 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:15:01.584 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:15:01.584 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:15:01.584 -03:00 [DBG] Client validation success
2019-02-20 01:15:01.584 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:0000001D",
  "TimeStamp": "2019-02-20T04:15:01Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:15:01.585 -03:00 [DBG] Start token request validation
2019-02-20 01:15:01.585 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:15:01.585 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:15:01.586 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:15:01.586 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:15:01.592 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****UYlQ"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:0000001D",
  "TimeStamp": "2019-02-20T04:15:01Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:15:01.593 -03:00 [DBG] Token request success.
2019-02-20 01:15:02.630 -03:00 [WRN] Unhandled exception [1,"fef2370b-bc95-4662-854c-1eeaeef224f3"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID fef2370b-bc95-4662-854c-1eeaeef224f3 and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-20 01:15:02.724 -03:00 [INF] Message received:
2019-02-20 01:15:02.724 -03:00 [INF] ----------------------------------
2019-02-20 01:15:02.733 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"9c1038ce-405e-4905-beb3-bd0f700ebb14","CreationDate":"2019-02-20T04:15:02.7009853Z"}
2019-02-20 01:15:02.733 -03:00 [INF] ----------------------------------
2019-02-20 01:15:04.025 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages 0bf7b205-d84c-4d07-aab4-1b35ad7b9bb1 to 1 handlers took 1308 ms
2019-02-20 01:15:31.484 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:15:31.484 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:15:31.485 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:15:31.485 -03:00 [DBG] Start token request.
2019-02-20 01:15:31.485 -03:00 [DBG] Start client validation
2019-02-20 01:15:31.485 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:15:31.485 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:15:31.485 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:15:31.485 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:15:31.486 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:15:31.486 -03:00 [DBG] Client validation success
2019-02-20 01:15:31.486 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:00000020",
  "TimeStamp": "2019-02-20T04:15:31Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:15:31.503 -03:00 [DBG] Start token request validation
2019-02-20 01:15:31.503 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:15:31.504 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:15:31.504 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:15:31.504 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:15:31.509 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****nLTw"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:00000020",
  "TimeStamp": "2019-02-20T04:15:31Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:15:31.509 -03:00 [DBG] Token request success.
2019-02-20 01:15:35.464 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 01:15:35.465 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 01:15:35.465 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 01:15:35.465 -03:00 [DBG] Start token request.
2019-02-20 01:15:35.465 -03:00 [DBG] Start client validation
2019-02-20 01:15:35.465 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 01:15:35.465 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 01:15:35.465 -03:00 [DBG] Secret id found: MVC
2019-02-20 01:15:35.466 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 01:15:35.466 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 01:15:35.466 -03:00 [DBG] Client validation success
2019-02-20 01:15:35.466 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKMT5NCF53R:00000022",
  "TimeStamp": "2019-02-20T04:15:35Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:15:35.466 -03:00 [DBG] Start token request validation
2019-02-20 01:15:35.466 -03:00 [DBG] Start client credentials token request validation
2019-02-20 01:15:35.467 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 01:15:35.467 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 01:15:35.467 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 01:15:35.473 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****76tg"
    }
  ],
  "ActivityId": "0HLKMT5NCF53R:00000022",
  "TimeStamp": "2019-02-20T04:15:35Z",
  "ProcessId": 6468,
  "LocalIpAddress": "127.0.0.1:47275",
  "RemoteIpAddress": "::1"
}
2019-02-20 01:15:35.473 -03:00 [DBG] Token request success.
2019-02-20 01:15:35.571 -03:00 [WRN] Unhandled exception [1,"a8ecaf92-c7bd-4b58-9ab4-b2e883c02c13"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID a8ecaf92-c7bd-4b58-9ab4-b2e883c02c13 and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-20 01:15:35.585 -03:00 [INF] Message received:
2019-02-20 01:15:35.585 -03:00 [INF] ----------------------------------
2019-02-20 01:15:35.585 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"d19568ed-cdd7-4eb7-baee-936c49eba496","CreationDate":"2019-02-20T04:15:35.5849138Z"}
2019-02-20 01:15:35.586 -03:00 [INF] ----------------------------------
2019-02-20 01:15:36.020 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages 9d5701c8-b535-4e27-85e9-784ec257778d to 1 handlers took 435 ms
2019-02-20 22:44:36.482 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 22:44:38.567 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 22:44:38.847 -03:00 [INF] Setting number of workers to 1
2019-02-20 22:44:38.999 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 22:44:39.063 -03:00 [INF] Bus Rebus 1 started
2019-02-20 22:44:39.122 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 22:44:39.260 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 22:44:39.372 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 22:44:39.468 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 22:44:39.469 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 22:44:39.469 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 22:44:39.469 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 22:44:39.470 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 22:45:48.503 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 22:45:48.548 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 22:45:48.549 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 22:45:48.574 -03:00 [DBG] Start token request.
2019-02-20 22:45:48.600 -03:00 [DBG] Start client validation
2019-02-20 22:45:48.619 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 22:45:48.620 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 22:45:48.620 -03:00 [DBG] Secret id found: MVC
2019-02-20 22:45:48.644 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 22:45:48.669 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 22:45:48.669 -03:00 [DBG] Client validation success
2019-02-20 22:45:48.697 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNJOIQ6A8P:00000005",
  "TimeStamp": "2019-02-21T01:45:48Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:45:48.765 -03:00 [DBG] Start token request validation
2019-02-20 22:45:48.791 -03:00 [DBG] Start client credentials token request validation
2019-02-20 22:45:48.877 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 22:45:48.907 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 22:45:48.957 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 22:45:49.138 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****djFg"
    }
  ],
  "ActivityId": "0HLKNJOIQ6A8P:00000005",
  "TimeStamp": "2019-02-21T01:45:49Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:45:49.142 -03:00 [DBG] Token request success.
2019-02-20 22:45:49.641 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-20 22:45:49.642 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-20 22:45:49.642 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-20 22:45:49.652 -03:00 [DBG] Start discovery request
2019-02-20 22:45:49.859 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-20 22:45:49.865 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-20 22:45:49.865 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-20 22:45:49.874 -03:00 [DBG] Start key discovery request
2019-02-20 22:45:54.319 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 22:45:54.324 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 22:45:54.325 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 22:45:54.325 -03:00 [DBG] Start token request.
2019-02-20 22:45:54.325 -03:00 [DBG] Start client validation
2019-02-20 22:45:54.333 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 22:45:54.334 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 22:45:54.334 -03:00 [DBG] Secret id found: MVC
2019-02-20 22:45:54.334 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 22:45:54.334 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 22:45:54.334 -03:00 [DBG] Client validation success
2019-02-20 22:45:54.334 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNJOIQ6A8P:00000008",
  "TimeStamp": "2019-02-21T01:45:54Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:45:54.335 -03:00 [DBG] Start token request validation
2019-02-20 22:45:54.335 -03:00 [DBG] Start client credentials token request validation
2019-02-20 22:45:54.336 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 22:45:54.336 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 22:45:54.336 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 22:45:54.342 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****XKKA"
    }
  ],
  "ActivityId": "0HLKNJOIQ6A8P:00000008",
  "TimeStamp": "2019-02-21T01:45:54Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:45:54.342 -03:00 [DBG] Token request success.
2019-02-20 22:45:55.199 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 22:45:55.200 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 22:45:55.200 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 22:45:55.200 -03:00 [DBG] Start token request.
2019-02-20 22:45:55.200 -03:00 [DBG] Start client validation
2019-02-20 22:45:55.200 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 22:45:55.200 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 22:45:55.200 -03:00 [DBG] Secret id found: MVC
2019-02-20 22:45:55.201 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 22:45:55.201 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 22:45:55.201 -03:00 [DBG] Client validation success
2019-02-20 22:45:55.201 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNJOIQ6A8P:00000009",
  "TimeStamp": "2019-02-21T01:45:55Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:45:55.202 -03:00 [DBG] Start token request validation
2019-02-20 22:45:55.202 -03:00 [DBG] Start client credentials token request validation
2019-02-20 22:45:55.202 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 22:45:55.202 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 22:45:55.202 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 22:45:55.209 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****VoRQ"
    }
  ],
  "ActivityId": "0HLKNJOIQ6A8P:00000009",
  "TimeStamp": "2019-02-21T01:45:55Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:45:55.209 -03:00 [DBG] Token request success.
2019-02-20 22:46:07.937 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 22:46:07.937 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 22:46:07.938 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 22:46:07.938 -03:00 [DBG] Start token request.
2019-02-20 22:46:07.938 -03:00 [DBG] Start client validation
2019-02-20 22:46:07.938 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 22:46:07.938 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 22:46:07.938 -03:00 [DBG] Secret id found: MVC
2019-02-20 22:46:07.939 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 22:46:07.939 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 22:46:07.940 -03:00 [DBG] Client validation success
2019-02-20 22:46:07.940 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNJOIQ6A8P:0000000C",
  "TimeStamp": "2019-02-21T01:46:07Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:46:07.944 -03:00 [DBG] Start token request validation
2019-02-20 22:46:07.945 -03:00 [DBG] Start client credentials token request validation
2019-02-20 22:46:07.945 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 22:46:07.945 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 22:46:07.946 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 22:46:07.954 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****GHmA"
    }
  ],
  "ActivityId": "0HLKNJOIQ6A8P:0000000C",
  "TimeStamp": "2019-02-21T01:46:07Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:46:07.954 -03:00 [DBG] Token request success.
2019-02-20 22:46:09.144 -03:00 [WRN] Unhandled exception [1,"c99d6ce3-36ba-4cf3-adb8-3aadb735e9b1"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID c99d6ce3-36ba-4cf3-adb8-3aadb735e9b1 and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-20 22:46:09.256 -03:00 [INF] Message received:
2019-02-20 22:46:09.256 -03:00 [INF] ----------------------------------
2019-02-20 22:46:09.262 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"2ff00c6d-9e2c-4bd1-a768-f0e04850afd9","CreationDate":"2019-02-21T01:46:09.2191552Z"}
2019-02-20 22:46:09.262 -03:00 [INF] ----------------------------------
2019-02-20 22:46:10.391 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages 87151c80-dfee-4f97-97bb-0a69cd397a92 to 1 handlers took 1152 ms
2019-02-20 22:46:55.115 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 22:46:55.116 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 22:46:55.116 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 22:46:55.116 -03:00 [DBG] Start token request.
2019-02-20 22:46:55.116 -03:00 [DBG] Start client validation
2019-02-20 22:46:55.116 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 22:46:55.117 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 22:46:55.117 -03:00 [DBG] Secret id found: MVC
2019-02-20 22:46:55.117 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 22:46:55.117 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 22:46:55.117 -03:00 [DBG] Client validation success
2019-02-20 22:46:55.118 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNJOIQ6A8P:00000011",
  "TimeStamp": "2019-02-21T01:46:55Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:46:55.119 -03:00 [DBG] Start token request validation
2019-02-20 22:46:55.119 -03:00 [DBG] Start client credentials token request validation
2019-02-20 22:46:55.119 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 22:46:55.119 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Ordering.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Ordering.API"
  }
}
2019-02-20 22:46:55.119 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 22:46:55.129 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Ordering.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****iaMQ"
    }
  ],
  "ActivityId": "0HLKNJOIQ6A8P:00000011",
  "TimeStamp": "2019-02-21T01:46:55Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:46:55.129 -03:00 [DBG] Token request success.
2019-02-20 22:47:00.780 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 22:47:00.781 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 22:47:00.781 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 22:47:00.782 -03:00 [DBG] Start token request.
2019-02-20 22:47:00.782 -03:00 [DBG] Start client validation
2019-02-20 22:47:00.782 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 22:47:00.782 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 22:47:00.782 -03:00 [DBG] Secret id found: MVC
2019-02-20 22:47:00.782 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 22:47:00.782 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 22:47:00.782 -03:00 [DBG] Client validation success
2019-02-20 22:47:00.782 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNJOIQ6A8P:00000013",
  "TimeStamp": "2019-02-21T01:47:00Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:47:00.783 -03:00 [DBG] Start token request validation
2019-02-20 22:47:00.783 -03:00 [DBG] Start client credentials token request validation
2019-02-20 22:47:00.783 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 22:47:00.783 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Ordering.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Ordering.API"
  }
}
2019-02-20 22:47:00.783 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 22:47:00.791 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Ordering.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****CuXA"
    }
  ],
  "ActivityId": "0HLKNJOIQ6A8P:00000013",
  "TimeStamp": "2019-02-21T01:47:00Z",
  "ProcessId": 6732,
  "LocalIpAddress": "127.0.0.1:13685",
  "RemoteIpAddress": "::1"
}
2019-02-20 22:47:00.791 -03:00 [DBG] Token request success.
2019-02-20 23:00:19.854 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 23:00:20.857 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 23:00:20.941 -03:00 [INF] Setting number of workers to 1
2019-02-20 23:00:20.944 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 23:00:20.972 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 23:00:20.974 -03:00 [INF] Bus Rebus 1 started
2019-02-20 23:00:21.079 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 23:00:21.085 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 23:00:21.113 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 23:00:21.113 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 23:00:21.113 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 23:00:21.113 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 23:00:21.113 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 23:06:20.083 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 23:06:22.028 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 23:06:22.139 -03:00 [INF] Setting number of workers to 1
2019-02-20 23:06:22.299 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 23:06:22.683 -03:00 [INF] Bus Rebus 1 started
2019-02-20 23:06:22.697 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 23:06:22.826 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 23:06:23.315 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 23:06:23.448 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 23:06:23.449 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 23:06:23.449 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 23:06:23.449 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 23:06:23.450 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 23:07:00.155 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 23:07:00.205 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 23:07:00.206 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 23:07:00.226 -03:00 [DBG] Start token request.
2019-02-20 23:07:00.243 -03:00 [DBG] Start client validation
2019-02-20 23:07:00.256 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 23:07:00.257 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 23:07:00.258 -03:00 [DBG] Secret id found: MVC
2019-02-20 23:07:00.286 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 23:07:00.311 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 23:07:00.311 -03:00 [DBG] Client validation success
2019-02-20 23:07:00.357 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNK4NKK6EE:00000004",
  "TimeStamp": "2019-02-21T02:07:00Z",
  "ProcessId": 17596,
  "LocalIpAddress": "127.0.0.1:38505",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:07:00.437 -03:00 [DBG] Start token request validation
2019-02-20 23:07:00.473 -03:00 [DBG] Start client credentials token request validation
2019-02-20 23:07:00.588 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 23:07:00.607 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 23:07:00.675 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 23:07:01.070 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****qtFQ"
    }
  ],
  "ActivityId": "0HLKNK4NKK6EE:00000004",
  "TimeStamp": "2019-02-21T02:07:01Z",
  "ProcessId": 17596,
  "LocalIpAddress": "127.0.0.1:38505",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:07:01.073 -03:00 [DBG] Token request success.
2019-02-20 23:07:02.104 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-20 23:07:02.106 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-20 23:07:02.106 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-20 23:07:02.113 -03:00 [DBG] Start discovery request
2019-02-20 23:07:02.362 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-20 23:07:02.364 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-20 23:07:02.364 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-20 23:07:02.372 -03:00 [DBG] Start key discovery request
2019-02-20 23:07:12.167 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 23:07:12.168 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 23:07:12.168 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 23:07:12.168 -03:00 [DBG] Start token request.
2019-02-20 23:07:12.169 -03:00 [DBG] Start client validation
2019-02-20 23:07:12.169 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 23:07:12.169 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 23:07:12.169 -03:00 [DBG] Secret id found: MVC
2019-02-20 23:07:12.169 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 23:07:12.169 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 23:07:12.169 -03:00 [DBG] Client validation success
2019-02-20 23:07:12.170 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNK4NKK6EE:00000008",
  "TimeStamp": "2019-02-21T02:07:12Z",
  "ProcessId": 17596,
  "LocalIpAddress": "127.0.0.1:38505",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:07:12.171 -03:00 [DBG] Start token request validation
2019-02-20 23:07:12.171 -03:00 [DBG] Start client credentials token request validation
2019-02-20 23:07:12.171 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 23:07:12.172 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 23:07:12.172 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 23:07:12.178 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****hhSw"
    }
  ],
  "ActivityId": "0HLKNK4NKK6EE:00000008",
  "TimeStamp": "2019-02-21T02:07:12Z",
  "ProcessId": 17596,
  "LocalIpAddress": "127.0.0.1:38505",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:07:12.178 -03:00 [DBG] Token request success.
2019-02-20 23:07:13.184 -03:00 [WRN] Unhandled exception [1,"cdcffb6b-d47f-4990-9a3e-9f0bf44fc4cb"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID cdcffb6b-d47f-4990-9a3e-9f0bf44fc4cb and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-20 23:07:13.309 -03:00 [INF] Message received:
2019-02-20 23:07:13.309 -03:00 [INF] ----------------------------------
2019-02-20 23:07:13.318 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"dba34fc5-7516-4907-9b2c-cf6a7cbc80e6","CreationDate":"2019-02-21T02:07:13.2515204Z"}
2019-02-20 23:07:13.318 -03:00 [INF] ----------------------------------
2019-02-20 23:07:14.828 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages a2c961ef-8210-43b7-8815-51e5d49ce645 to 1 handlers took 1557 ms
2019-02-20 23:25:18.454 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 23:25:20.147 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 23:25:20.347 -03:00 [INF] Setting number of workers to 1
2019-02-20 23:25:20.409 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 23:25:20.481 -03:00 [INF] Bus Rebus 1 started
2019-02-20 23:25:20.516 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 23:25:20.614 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 23:25:20.697 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 23:25:20.718 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 23:25:20.719 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 23:25:20.719 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 23:25:20.719 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 23:25:20.720 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 23:27:13.801 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 23:27:13.896 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 23:27:13.896 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 23:27:13.915 -03:00 [DBG] Start token request.
2019-02-20 23:27:13.930 -03:00 [DBG] Start client validation
2019-02-20 23:27:13.941 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 23:27:13.942 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 23:27:13.942 -03:00 [DBG] Secret id found: MVC
2019-02-20 23:27:13.963 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 23:27:13.988 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 23:27:13.988 -03:00 [DBG] Client validation success
2019-02-20 23:27:14.055 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNKFA1DRIK:00000008",
  "TimeStamp": "2019-02-21T02:27:14Z",
  "ProcessId": 15952,
  "LocalIpAddress": "127.0.0.1:32598",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:27:14.128 -03:00 [DBG] Start token request validation
2019-02-20 23:27:14.154 -03:00 [DBG] Start client credentials token request validation
2019-02-20 23:27:14.343 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 23:27:14.367 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 23:27:14.464 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 23:27:15.329 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****AF0Q"
    }
  ],
  "ActivityId": "0HLKNKFA1DRIK:00000008",
  "TimeStamp": "2019-02-21T02:27:15Z",
  "ProcessId": 15952,
  "LocalIpAddress": "127.0.0.1:32598",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:27:15.332 -03:00 [DBG] Token request success.
2019-02-20 23:27:15.967 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-20 23:27:15.976 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-20 23:27:15.976 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-20 23:27:15.983 -03:00 [DBG] Start discovery request
2019-02-20 23:27:16.238 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-20 23:27:16.242 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-20 23:27:16.243 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-20 23:27:16.261 -03:00 [DBG] Start key discovery request
2019-02-20 23:27:27.785 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 23:27:27.787 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 23:27:27.788 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 23:27:27.788 -03:00 [DBG] Start token request.
2019-02-20 23:27:27.788 -03:00 [DBG] Start client validation
2019-02-20 23:27:27.788 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 23:27:27.788 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 23:27:27.788 -03:00 [DBG] Secret id found: MVC
2019-02-20 23:27:27.788 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 23:27:27.789 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 23:27:27.789 -03:00 [DBG] Client validation success
2019-02-20 23:27:27.789 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNKFA1DRIK:0000000A",
  "TimeStamp": "2019-02-21T02:27:27Z",
  "ProcessId": 15952,
  "LocalIpAddress": "127.0.0.1:32598",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:27:27.790 -03:00 [DBG] Start token request validation
2019-02-20 23:27:27.790 -03:00 [DBG] Start client credentials token request validation
2019-02-20 23:27:27.791 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 23:27:27.791 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 23:27:27.791 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 23:27:27.797 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****DYvw"
    }
  ],
  "ActivityId": "0HLKNKFA1DRIK:0000000A",
  "TimeStamp": "2019-02-21T02:27:27Z",
  "ProcessId": 15952,
  "LocalIpAddress": "127.0.0.1:32598",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:27:27.797 -03:00 [DBG] Token request success.
2019-02-20 23:27:28.753 -03:00 [WRN] Unhandled exception [1,"1e0975f3-9dec-4d2f-acf0-c3b73d7b2e64"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID 1e0975f3-9dec-4d2f-acf0-c3b73d7b2e64 and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-20 23:27:28.836 -03:00 [INF] Message received:
2019-02-20 23:27:28.836 -03:00 [INF] ----------------------------------
2019-02-20 23:27:28.847 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"eb94b66b-6a38-47f4-86f1-690a5218eed4","CreationDate":"2019-02-21T02:27:28.8030186Z"}
2019-02-20 23:27:28.847 -03:00 [INF] ----------------------------------
2019-02-20 23:27:30.007 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages d73c292c-62f6-46ab-8690-135e7650063c to 1 handlers took 1185 ms
2019-02-20 23:53:15.779 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 23:53:18.062 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 23:53:18.104 -03:00 [INF] Setting number of workers to 1
2019-02-20 23:53:18.113 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 23:53:18.125 -03:00 [INF] Bus Rebus 1 started
2019-02-20 23:53:18.133 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 23:53:18.354 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 23:53:18.406 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 23:53:18.456 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 23:53:18.456 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 23:53:18.456 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 23:53:18.456 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 23:53:18.456 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 23:54:17.785 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 23:54:17.816 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 23:54:17.816 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 23:54:17.839 -03:00 [DBG] Start token request.
2019-02-20 23:54:17.856 -03:00 [DBG] Start client validation
2019-02-20 23:54:17.869 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 23:54:17.870 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 23:54:17.871 -03:00 [DBG] Secret id found: MVC
2019-02-20 23:54:17.896 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 23:54:17.922 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 23:54:17.922 -03:00 [DBG] Client validation success
2019-02-20 23:54:17.955 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNKUUKQCK2:00000004",
  "TimeStamp": "2019-02-21T02:54:17Z",
  "ProcessId": 15244,
  "LocalIpAddress": "127.0.0.1:12956",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:54:18.015 -03:00 [DBG] Start token request validation
2019-02-20 23:54:18.034 -03:00 [DBG] Start client credentials token request validation
2019-02-20 23:54:18.111 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 23:54:18.129 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 23:54:18.184 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 23:54:18.348 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****J89w"
    }
  ],
  "ActivityId": "0HLKNKUUKQCK2:00000004",
  "TimeStamp": "2019-02-21T02:54:18Z",
  "ProcessId": 15244,
  "LocalIpAddress": "127.0.0.1:12956",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:54:18.352 -03:00 [DBG] Token request success.
2019-02-20 23:54:18.733 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-20 23:54:18.736 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-20 23:54:18.736 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-20 23:54:18.749 -03:00 [DBG] Start discovery request
2019-02-20 23:54:18.968 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-20 23:54:18.969 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-20 23:54:18.970 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-20 23:54:18.977 -03:00 [DBG] Start key discovery request
2019-02-20 23:54:27.234 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-20 23:54:27.235 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-20 23:54:27.235 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-20 23:54:27.235 -03:00 [DBG] Start token request.
2019-02-20 23:54:27.236 -03:00 [DBG] Start client validation
2019-02-20 23:54:27.236 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-20 23:54:27.236 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-20 23:54:27.236 -03:00 [DBG] Secret id found: MVC
2019-02-20 23:54:27.236 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-20 23:54:27.236 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-20 23:54:27.236 -03:00 [DBG] Client validation success
2019-02-20 23:54:27.237 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNKUUKQCK3:00000003",
  "TimeStamp": "2019-02-21T02:54:27Z",
  "ProcessId": 15244,
  "LocalIpAddress": "127.0.0.1:12956",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:54:27.239 -03:00 [DBG] Start token request validation
2019-02-20 23:54:27.239 -03:00 [DBG] Start client credentials token request validation
2019-02-20 23:54:27.240 -03:00 [DBG] MVC credentials token request validation success
2019-02-20 23:54:27.240 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-20 23:54:27.240 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-20 23:54:27.246 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****d0IQ"
    }
  ],
  "ActivityId": "0HLKNKUUKQCK3:00000003",
  "TimeStamp": "2019-02-21T02:54:27Z",
  "ProcessId": 15244,
  "LocalIpAddress": "127.0.0.1:12956",
  "RemoteIpAddress": "::1"
}
2019-02-20 23:54:27.247 -03:00 [DBG] Token request success.
2019-02-20 23:54:28.193 -03:00 [WRN] Unhandled exception [1,"2c465fc0-176f-44e6-b1f3-970dc17581d1"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID 2c465fc0-176f-44e6-b1f3-970dc17581d1 and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-20 23:54:28.351 -03:00 [INF] Message received:
2019-02-20 23:54:28.351 -03:00 [INF] ----------------------------------
2019-02-20 23:54:28.363 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"2ac1fad1-fa5a-47ed-a42e-779e179db91c","CreationDate":"2019-02-21T02:54:28.312221Z"}
2019-02-20 23:54:28.363 -03:00 [INF] ----------------------------------
2019-02-20 23:54:29.717 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages 2c512741-1562-4e4d-b880-746d7a7a83b2 to 1 handlers took 1382 ms
2019-02-20 23:56:35.362 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 23:56:35.871 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 23:56:35.911 -03:00 [INF] Setting number of workers to 1
2019-02-20 23:56:35.913 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 23:56:35.917 -03:00 [INF] Bus Rebus 1 started
2019-02-20 23:56:35.918 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 23:56:35.972 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 23:56:35.999 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 23:56:36.019 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 23:56:36.019 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 23:56:36.020 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 23:56:36.020 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 23:56:36.020 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 23:58:13.044 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 23:58:13.350 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 23:58:13.371 -03:00 [INF] Setting number of workers to 1
2019-02-20 23:58:13.374 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 23:58:13.377 -03:00 [INF] Bus Rebus 1 started
2019-02-20 23:58:13.379 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 23:58:13.415 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 23:58:13.431 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 23:58:13.444 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 23:58:13.444 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 23:58:13.444 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 23:58:13.444 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 23:58:13.444 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-20 23:58:42.601 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-20 23:58:42.906 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-20 23:58:42.932 -03:00 [INF] Setting number of workers to 1
2019-02-20 23:58:42.934 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-20 23:58:42.939 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-20 23:58:42.940 -03:00 [INF] Bus Rebus 1 started
2019-02-20 23:58:42.987 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-20 23:58:43.007 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-20 23:58:43.020 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-20 23:58:43.021 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-20 23:58:43.021 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-20 23:58:43.021 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-20 23:58:43.021 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-21 00:13:52.614 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-21 00:13:52.989 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-21 00:13:53.043 -03:00 [INF] Setting number of workers to 1
2019-02-21 00:13:53.067 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-21 00:13:53.098 -03:00 [INF] Bus Rebus 1 started
2019-02-21 00:13:53.108 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-21 00:13:53.175 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-21 00:13:53.216 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-21 00:13:53.238 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-21 00:13:53.239 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-21 00:13:53.239 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-21 00:13:53.239 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-21 00:13:53.239 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-21 00:15:00.798 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-21 00:15:00.823 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-21 00:15:00.824 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-21 00:15:00.840 -03:00 [DBG] Start token request.
2019-02-21 00:15:00.849 -03:00 [DBG] Start client validation
2019-02-21 00:15:00.858 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-21 00:15:00.858 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-21 00:15:00.858 -03:00 [DBG] Secret id found: MVC
2019-02-21 00:15:00.871 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-21 00:15:00.885 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-21 00:15:00.887 -03:00 [DBG] Client validation success
2019-02-21 00:15:00.910 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNLAE08SGE:00000005",
  "TimeStamp": "2019-02-21T03:15:00Z",
  "ProcessId": 5996,
  "LocalIpAddress": "127.0.0.1:29860",
  "RemoteIpAddress": "::1"
}
2019-02-21 00:15:00.971 -03:00 [DBG] Start token request validation
2019-02-21 00:15:00.989 -03:00 [DBG] Start client credentials token request validation
2019-02-21 00:15:01.060 -03:00 [DBG] MVC credentials token request validation success
2019-02-21 00:15:01.074 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-21 00:15:01.117 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-21 00:15:01.256 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****zOqg"
    }
  ],
  "ActivityId": "0HLKNLAE08SGE:00000005",
  "TimeStamp": "2019-02-21T03:15:01Z",
  "ProcessId": 5996,
  "LocalIpAddress": "127.0.0.1:29860",
  "RemoteIpAddress": "::1"
}
2019-02-21 00:15:01.259 -03:00 [DBG] Token request success.
2019-02-21 00:15:01.692 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-21 00:15:01.693 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-21 00:15:01.694 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-21 00:15:01.705 -03:00 [DBG] Start discovery request
2019-02-21 00:15:01.888 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-21 00:15:01.889 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-21 00:15:01.889 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-21 00:15:01.896 -03:00 [DBG] Start key discovery request
2019-02-21 00:15:13.232 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-21 00:15:13.240 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-21 00:15:13.240 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-21 00:15:13.240 -03:00 [DBG] Start token request.
2019-02-21 00:15:13.240 -03:00 [DBG] Start client validation
2019-02-21 00:15:13.240 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-21 00:15:13.240 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-21 00:15:13.240 -03:00 [DBG] Secret id found: MVC
2019-02-21 00:15:13.240 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-21 00:15:13.241 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-21 00:15:13.241 -03:00 [DBG] Client validation success
2019-02-21 00:15:13.241 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKNLAE08SGE:00000009",
  "TimeStamp": "2019-02-21T03:15:13Z",
  "ProcessId": 5996,
  "LocalIpAddress": "127.0.0.1:29860",
  "RemoteIpAddress": "::1"
}
2019-02-21 00:15:13.242 -03:00 [DBG] Start token request validation
2019-02-21 00:15:13.242 -03:00 [DBG] Start client credentials token request validation
2019-02-21 00:15:13.242 -03:00 [DBG] MVC credentials token request validation success
2019-02-21 00:15:13.242 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-21 00:15:13.242 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-21 00:15:13.249 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****sU1Q"
    }
  ],
  "ActivityId": "0HLKNLAE08SGE:00000009",
  "TimeStamp": "2019-02-21T03:15:13Z",
  "ProcessId": 5996,
  "LocalIpAddress": "127.0.0.1:29860",
  "RemoteIpAddress": "::1"
}
2019-02-21 00:15:13.249 -03:00 [DBG] Token request success.
2019-02-21 00:15:14.514 -03:00 [WRN] Unhandled exception [1,"ace7417e-151d-45d7-93f2-4ba8421e3d4c"] (FINAL) while handling message with ID Rebus.Exceptions.MessageCouldNotBeDispatchedToAnyHandlersException: Message with ID ace7417e-151d-45d7-93f2-4ba8421e3d4c and type Messages.Events.CheckoutEvent, Messages could not be dispatched to any handlers (and will not be retried under the default fail-fast settings)
   at Rebus.Pipeline.Receive.DispatchIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DispatchIncomingMessageStep.cs:line 64
   at Rebus.Sagas.LoadSagaDataStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Sagas\LoadSagaDataStep.cs:line 66
   at Rebus.Pipeline.Receive.ActivateHandlersStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\ActivateHandlersStep.cs:line 47
   at Rebus.Pipeline.Receive.HandleRoutingSlipsStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleRoutingSlipsStep.cs:line 42
   at Rebus.Pipeline.Receive.DeserializeIncomingMessageStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\DeserializeIncomingMessageStep.cs:line 34
   at Rebus.Pipeline.Receive.HandleDeferredMessagesStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Pipeline\Receive\HandleDeferredMessagesStep.cs:line 121
   at Rebus.Retry.FailFast.FailFastStep.Process(IncomingStepContext context, Func`1 next) in C:\projects-rebus\Rebus\Rebus\Retry\FailFast\FailFastStep.cs:line 41
   at Rebus.Retry.Simple.SimpleRetryStrategyStep.DispatchWithTrackerIdentifier(Func`1 next, String identifierToTrackMessageBy, ITransactionContext transactionContext, String messageId, String secondLevelMessageId) in C:\projects-rebus\Rebus\Rebus\Retry\Simple\SimpleRetryStrategyStep.cs:line 114
2019-02-21 00:15:14.604 -03:00 [INF] Message received:
2019-02-21 00:15:14.604 -03:00 [INF] ----------------------------------
2019-02-21 00:15:14.615 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"58160f01-cace-4b69-90aa-419896319954","CreationDate":"2019-02-21T03:15:14.5689738Z"}
2019-02-21 00:15:14.615 -03:00 [INF] ----------------------------------
2019-02-21 00:15:16.063 -03:00 [DBG] Dispatching Messages.IntegrationEvents.Events.RegistryEvent, Messages a66f07cc-a3c7-4ab7-805b-cc908a2f16eb to 1 handlers took 1476 ms
