2019-02-18 00:07:02.725 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:07:04.154 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:07:04.242 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:07:04.329 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:07:04.420 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:07:04.440 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:07:04.591 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:07:04.702 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:07:04.736 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:07:04.737 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:07:57.638 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:07:57.671 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:07:57.672 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:07:57.700 -03:00 [DBG] Start token request.
2019-02-18 00:07:57.722 -03:00 [DBG] Start client validation
2019-02-18 00:07:57.778 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:07:57.779 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:07:57.779 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:07:57.794 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:07:57.815 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:07:57.815 -03:00 [DBG] Client validation success
2019-02-18 00:07:57.844 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9OKTVSSE:00000005",
  "TimeStamp": "2019-02-18T03:07:57Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:07:57.889 -03:00 [DBG] Start token request validation
2019-02-18 00:07:57.906 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:07:58.033 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:07:58.053 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:07:58.108 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:07:58.306 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****5xGg"
    }
  ],
  "ActivityId": "0HLKL9OKTVSSE:00000005",
  "TimeStamp": "2019-02-18T03:07:58Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:07:58.310 -03:00 [DBG] Token request success.
2019-02-18 00:07:58.680 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:07:58.690 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:07:58.691 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:07:58.699 -03:00 [DBG] Start discovery request
2019-02-18 00:07:58.918 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:07:58.920 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:07:58.920 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:07:58.930 -03:00 [DBG] Start key discovery request
2019-02-18 00:08:04.462 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:08:04.465 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:08:04.465 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:08:04.465 -03:00 [DBG] Start token request.
2019-02-18 00:08:04.465 -03:00 [DBG] Start client validation
2019-02-18 00:08:04.466 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:08:04.466 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:08:04.466 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:08:04.466 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:08:04.466 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:08:04.466 -03:00 [DBG] Client validation success
2019-02-18 00:08:04.466 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9OKTVSSE:00000009",
  "TimeStamp": "2019-02-18T03:08:04Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:08:04.470 -03:00 [DBG] Start token request validation
2019-02-18 00:08:04.470 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:08:04.470 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:08:04.471 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:08:04.471 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:08:04.480 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****NyzA"
    }
  ],
  "ActivityId": "0HLKL9OKTVSSE:00000009",
  "TimeStamp": "2019-02-18T03:08:04Z",
  "ProcessId": 14016,
  "LocalIpAddress": "127.0.0.1:28766",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:08:04.480 -03:00 [DBG] Token request success.
2019-02-18 00:09:18.935 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:09:23.066 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:09:23.361 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:09:23.455 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:09:23.560 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:09:23.631 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:09:23.914 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:09:24.248 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:09:24.295 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:09:24.295 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:09:24.296 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:09:24.296 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:09:24.296 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:10:28.845 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:10:28.877 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:10:28.878 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:10:28.900 -03:00 [DBG] Start token request.
2019-02-18 00:10:28.925 -03:00 [DBG] Start client validation
2019-02-18 00:10:28.942 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:10:28.944 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:10:28.944 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:10:28.968 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:10:29.009 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:10:29.009 -03:00 [DBG] Client validation success
2019-02-18 00:10:29.042 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9PUMF3M2:00000006",
  "TimeStamp": "2019-02-18T03:10:29Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:29.125 -03:00 [DBG] Start token request validation
2019-02-18 00:10:29.153 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:10:29.251 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:10:29.271 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:10:29.337 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:10:29.555 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****Vrhw"
    }
  ],
  "ActivityId": "0HLKL9PUMF3M2:00000006",
  "TimeStamp": "2019-02-18T03:10:29Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:29.557 -03:00 [DBG] Token request success.
2019-02-18 00:10:30.051 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:10:30.055 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:10:30.055 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:10:30.066 -03:00 [DBG] Start discovery request
2019-02-18 00:10:30.233 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:10:30.234 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:10:30.234 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:10:30.241 -03:00 [DBG] Start key discovery request
2019-02-18 00:10:37.560 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:10:37.562 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:10:37.562 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:10:37.562 -03:00 [DBG] Start token request.
2019-02-18 00:10:37.562 -03:00 [DBG] Start client validation
2019-02-18 00:10:37.562 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:10:37.562 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:10:37.562 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:10:37.563 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:10:37.563 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:10:37.563 -03:00 [DBG] Client validation success
2019-02-18 00:10:37.563 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKL9PUMF3M2:0000000A",
  "TimeStamp": "2019-02-18T03:10:37Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:37.568 -03:00 [DBG] Start token request validation
2019-02-18 00:10:37.568 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:10:37.569 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:10:37.569 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:10:37.569 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:10:37.577 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****1gkg"
    }
  ],
  "ActivityId": "0HLKL9PUMF3M2:0000000A",
  "TimeStamp": "2019-02-18T03:10:37Z",
  "ProcessId": 5328,
  "LocalIpAddress": "127.0.0.1:40619",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:10:37.578 -03:00 [DBG] Token request success.
2019-02-18 00:20:30.436 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:20:31.795 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:20:31.873 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:20:31.900 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:20:31.954 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:20:32.049 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:20:32.136 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:20:32.203 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:20:32.224 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:20:32.225 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:21:25.583 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:21:25.607 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:21:25.607 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:21:25.621 -03:00 [DBG] Start token request.
2019-02-18 00:21:25.632 -03:00 [DBG] Start client validation
2019-02-18 00:21:25.641 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:21:25.642 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:21:25.642 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:21:25.656 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:21:25.679 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:21:25.679 -03:00 [DBG] Client validation success
2019-02-18 00:21:25.705 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOK:00000006",
  "TimeStamp": "2019-02-18T03:21:25Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:25.759 -03:00 [DBG] Start token request validation
2019-02-18 00:21:25.780 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:21:25.839 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:21:25.856 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:21:25.890 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:21:26.032 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****DOBg"
    }
  ],
  "ActivityId": "0HLKLA05IOVOK:00000006",
  "TimeStamp": "2019-02-18T03:21:26Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:26.036 -03:00 [DBG] Token request success.
2019-02-18 00:21:26.347 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:21:26.349 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:21:26.349 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:21:26.358 -03:00 [DBG] Start discovery request
2019-02-18 00:21:26.507 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:21:26.508 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:21:26.508 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:21:26.515 -03:00 [DBG] Start key discovery request
2019-02-18 00:21:37.550 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:21:37.552 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:21:37.552 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:21:37.552 -03:00 [DBG] Start token request.
2019-02-18 00:21:37.552 -03:00 [DBG] Start client validation
2019-02-18 00:21:37.552 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:21:37.552 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:21:37.552 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:21:37.552 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:21:37.553 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:21:37.553 -03:00 [DBG] Client validation success
2019-02-18 00:21:37.553 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOK:0000000A",
  "TimeStamp": "2019-02-18T03:21:37Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:37.558 -03:00 [DBG] Start token request validation
2019-02-18 00:21:37.558 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:21:37.558 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:21:37.559 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:21:37.559 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:21:37.566 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****a3qA"
    }
  ],
  "ActivityId": "0HLKLA05IOVOK:0000000A",
  "TimeStamp": "2019-02-18T03:21:37Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:21:37.567 -03:00 [DBG] Token request success.
2019-02-18 00:25:00.478 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:25:00.479 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:25:00.479 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:25:00.479 -03:00 [DBG] Start token request.
2019-02-18 00:25:00.479 -03:00 [DBG] Start client validation
2019-02-18 00:25:00.479 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:25:00.479 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:25:00.479 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:25:00.480 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:25:00.480 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:25:00.480 -03:00 [DBG] Client validation success
2019-02-18 00:25:00.480 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOL:00000001",
  "TimeStamp": "2019-02-18T03:25:00Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:25:00.481 -03:00 [DBG] Start token request validation
2019-02-18 00:25:00.481 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:25:00.481 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:25:00.481 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:25:00.481 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:25:00.488 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****gNVQ"
    }
  ],
  "ActivityId": "0HLKLA05IOVOL:00000001",
  "TimeStamp": "2019-02-18T03:25:00Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:25:00.488 -03:00 [DBG] Token request success.
2019-02-18 00:26:35.156 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:26:35.157 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:26:35.157 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:26:35.157 -03:00 [DBG] Start token request.
2019-02-18 00:26:35.157 -03:00 [DBG] Start client validation
2019-02-18 00:26:35.157 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:26:35.157 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:26:35.157 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:26:35.157 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:26:35.157 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:26:35.158 -03:00 [DBG] Client validation success
2019-02-18 00:26:35.158 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOL:00000004",
  "TimeStamp": "2019-02-18T03:26:35Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:35.166 -03:00 [DBG] Start token request validation
2019-02-18 00:26:35.166 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:26:35.166 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:26:35.167 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:26:35.167 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:26:35.196 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****akSA"
    }
  ],
  "ActivityId": "0HLKLA05IOVOL:00000004",
  "TimeStamp": "2019-02-18T03:26:35Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:35.196 -03:00 [DBG] Token request success.
2019-02-18 00:26:43.533 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:26:43.534 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:26:43.534 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:26:43.534 -03:00 [DBG] Start token request.
2019-02-18 00:26:43.534 -03:00 [DBG] Start client validation
2019-02-18 00:26:43.534 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:26:43.534 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:26:43.534 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:26:43.534 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:26:43.534 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:26:43.535 -03:00 [DBG] Client validation success
2019-02-18 00:26:43.535 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA05IOVOL:00000006",
  "TimeStamp": "2019-02-18T03:26:43Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:43.541 -03:00 [DBG] Start token request validation
2019-02-18 00:26:43.541 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:26:43.542 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:26:43.542 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:26:43.542 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:26:43.548 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****G7BA"
    }
  ],
  "ActivityId": "0HLKLA05IOVOL:00000006",
  "TimeStamp": "2019-02-18T03:26:43Z",
  "ProcessId": 19064,
  "LocalIpAddress": "127.0.0.1:10157",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:26:43.548 -03:00 [DBG] Token request success.
2019-02-18 00:27:24.405 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:27:24.771 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:27:24.802 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:27:24.804 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:27:24.822 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:27:24.823 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:27:24.866 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:27:24.880 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:27:24.899 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:27:24.900 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:28:46.008 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:28:48.593 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:28:48.690 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:28:48.732 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:28:48.892 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:28:48.927 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:28:49.230 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:28:49.529 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:28:49.572 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:28:49.573 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:30:48.908 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:30:48.942 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:30:48.943 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:30:48.971 -03:00 [DBG] Start token request.
2019-02-18 00:30:48.994 -03:00 [DBG] Start client validation
2019-02-18 00:30:49.005 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:30:49.006 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:30:49.006 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:30:49.023 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:30:49.043 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:30:49.043 -03:00 [DBG] Client validation success
2019-02-18 00:30:49.073 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA4PRIER4:0000000C",
  "TimeStamp": "2019-02-18T03:30:49Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:49.132 -03:00 [DBG] Start token request validation
2019-02-18 00:30:49.149 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:30:49.230 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:30:49.244 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:30:49.302 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:30:49.457 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****TTJA"
    }
  ],
  "ActivityId": "0HLKLA4PRIER4:0000000C",
  "TimeStamp": "2019-02-18T03:30:49Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:49.460 -03:00 [DBG] Token request success.
2019-02-18 00:30:49.837 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:30:49.839 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:30:49.839 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:30:49.865 -03:00 [DBG] Start discovery request
2019-02-18 00:30:50.083 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:30:50.084 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:30:50.084 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:30:50.090 -03:00 [DBG] Start key discovery request
2019-02-18 00:30:59.832 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:30:59.834 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:30:59.834 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:30:59.834 -03:00 [DBG] Start token request.
2019-02-18 00:30:59.834 -03:00 [DBG] Start client validation
2019-02-18 00:30:59.834 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:30:59.834 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:30:59.835 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:30:59.835 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:30:59.835 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:30:59.835 -03:00 [DBG] Client validation success
2019-02-18 00:30:59.835 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLA4PRIER4:00000010",
  "TimeStamp": "2019-02-18T03:30:59Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:59.837 -03:00 [DBG] Start token request validation
2019-02-18 00:30:59.837 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:30:59.837 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:30:59.837 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:30:59.837 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:30:59.843 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****jr9A"
    }
  ],
  "ActivityId": "0HLKLA4PRIER4:00000010",
  "TimeStamp": "2019-02-18T03:30:59Z",
  "ProcessId": 3068,
  "LocalIpAddress": "127.0.0.1:18976",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:30:59.844 -03:00 [DBG] Token request success.
2019-02-18 00:31:52.003 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:31:52.405 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:31:52.432 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:31:52.434 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:31:52.437 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:31:52.439 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:31:52.485 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:31:52.507 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:31:52.522 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:38:12.518 -03:00 [INF] Setting number of workers to 0
2019-02-18 00:38:12.525 -03:00 [DBG] Removing worker Rebus 1 worker 1
2019-02-18 00:38:13.034 -03:00 [DBG] Worker Rebus 1 worker 1 stopped
2019-02-18 00:38:13.043 -03:00 [INF] Stopping periodic task CleanupTrackedErrors
2019-02-18 00:38:13.047 -03:00 [INF] Disposing RabbitMQ connection
2019-02-18 00:38:13.050 -03:00 [INF] Bus Rebus 1 stopped
2019-02-18 00:45:02.731 -03:00 [INF] Initializing RabbitMQ connection manager for transport with input queue 'RegistrationEvent'
2019-02-18 00:45:03.302 -03:00 [INF] Starting periodic task CleanupTrackedErrors with interval "00:00:10"
2019-02-18 00:45:03.353 -03:00 [INF] Setting number of workers to 1
2019-02-18 00:45:03.355 -03:00 [DBG] Adding worker Rebus 1 worker 1
2019-02-18 00:45:03.367 -03:00 [DBG] Starting (threadpool-based) worker Rebus 1 worker 1
2019-02-18 00:45:03.370 -03:00 [INF] Bus Rebus 1 started
2019-02-18 00:45:03.509 -03:00 [INF] Successfully initialized consumer for RegistrationEvent
2019-02-18 00:45:03.572 -03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-02-18 00:45:03.593 -03:00 [DBG] Using Identity.Application as default scheme for authentication
2019-02-18 00:45:03.593 -03:00 [DBG] Using Identity.External as default scheme for sign-in
2019-02-18 00:45:03.600 -03:00 [DBG] Using Identity.External as default scheme for sign-out
2019-02-18 00:45:03.600 -03:00 [DBG] Using Identity.Application as default scheme for challenge
2019-02-18 00:45:03.600 -03:00 [DBG] Using Identity.Application as default scheme for forbid
2019-02-18 00:45:20.624 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:45:20.647 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:45:20.648 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:45:20.671 -03:00 [DBG] Start token request.
2019-02-18 00:45:20.683 -03:00 [DBG] Start client validation
2019-02-18 00:45:20.697 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:45:20.697 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:45:20.697 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:45:20.712 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:45:20.728 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:45:20.728 -03:00 [DBG] Client validation success
2019-02-18 00:45:20.760 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLADRRJKJ2:00000003",
  "TimeStamp": "2019-02-18T03:45:20Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:45:20.812 -03:00 [DBG] Start token request validation
2019-02-18 00:45:20.825 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:45:20.871 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:45:20.880 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:45:20.912 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:45:20.993 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****vkXQ"
    }
  ],
  "ActivityId": "0HLKLADRRJKJ2:00000003",
  "TimeStamp": "2019-02-18T03:45:20Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:45:20.996 -03:00 [DBG] Token request success.
2019-02-18 00:45:21.328 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-02-18 00:45:21.330 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-02-18 00:45:21.330 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-02-18 00:45:21.340 -03:00 [DBG] Start discovery request
2019-02-18 00:45:21.505 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-02-18 00:45:21.506 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-02-18 00:45:21.507 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-02-18 00:45:21.514 -03:00 [DBG] Start key discovery request
2019-02-18 00:51:55.899 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-02-18 00:51:55.901 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-02-18 00:51:55.901 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-02-18 00:51:55.901 -03:00 [DBG] Start token request.
2019-02-18 00:51:55.901 -03:00 [DBG] Start client validation
2019-02-18 00:51:55.902 -03:00 [DBG] Start parsing Basic Authentication secret
2019-02-18 00:51:55.903 -03:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-02-18 00:51:55.903 -03:00 [DBG] Secret id found: MVC
2019-02-18 00:51:55.903 -03:00 [DBG] client configuration validation for client MVC succeeded.
2019-02-18 00:51:55.904 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-02-18 00:51:55.904 -03:00 [DBG] Client validation success
2019-02-18 00:51:55.904 -03:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "MVC",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLKLADRRJKJ2:0000002B",
  "TimeStamp": "2019-02-18T03:51:55Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:51:55.905 -03:00 [DBG] Start token request validation
2019-02-18 00:51:55.905 -03:00 [DBG] Start client credentials token request validation
2019-02-18 00:51:55.906 -03:00 [DBG] MVC credentials token request validation success
2019-02-18 00:51:55.906 -03:00 [INF] Token request validation success
{
  "ClientId": "MVC",
  "ClientName": "MVC",
  "GrantType": "client_credentials",
  "Scopes": "Basket.API",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "Basket.API"
  }
}
2019-02-18 00:51:55.906 -03:00 [DBG] Getting claims for access token for client: MVC
2019-02-18 00:51:55.912 -03:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "MVC",
  "ClientName": "MVC",
  "Endpoint": "Token",
  "Scopes": "Basket.API",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****iLBA"
    }
  ],
  "ActivityId": "0HLKLADRRJKJ2:0000002B",
  "TimeStamp": "2019-02-18T03:51:55Z",
  "ProcessId": 3276,
  "LocalIpAddress": "127.0.0.1:8748",
  "RemoteIpAddress": "::1"
}
2019-02-18 00:51:55.912 -03:00 [DBG] Token request success.
2019-02-18 00:51:56.724 -03:00 [INF] Message received:
2019-02-18 00:51:56.724 -03:00 [INF] ----------------------------------
2019-02-18 00:51:56.732 -03:00 [INF] {"UsuarioId":"173f964f-1eb9-43cf-91c7-df753717c16c","Nome":"Alice Smith","Email":"alice@asp.net","Telefone":"1234-5678","Endereco":"Rua Vergueiro, 456","Complemento":"8 andar sala 801","Bairro":"Vila Galvão","Municipio":"São Paulo","UF":"SP","CEP":"69118","Id":"d47895d7-3b39-4e29-8a1d-4875b8c94ebf","CreationDate":"2019-02-18T03:51:56.5990179Z"}
2019-02-18 00:51:56.732 -03:00 [INF] ----------------------------------
2019-02-18 00:51:57.617 -03:00 [DBG] Dispatching CasaDoCodigo.Mensagens.IntegrationEvents.Events.RegistryEvent, CasaDoCodigo.Mensagens 5c2b32b7-e007-4019-a9d9-860a6f96ac36 to 1 handlers took 905 ms
